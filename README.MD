# Лабораторная 3

## Отрабатываемый материал

**ASP.NET**, **Hosted Service**, **HTTP endpoints**

## Задача

**Что сделано:**
- **Интегрировал функционал из Лабораторной 2 в ASP.NET приложение:**  
  Подключил все сервисы, репозитории и конфигурацию, реализованные ранее, к ASP.NET хосту.
- **Перенёс сервис обслуживания конфигураций в фоновый сервис (Hosted Service):**  
  Теперь периодическое обновление конфигураций, получаемых из внешнего сервиса, выполняется в фоне.
- **Запустил миграции в фоновом режиме:**  
  Выполнение миграций при старте приложения было перенесено в Hosted Service, минимизировав код в `Program.cs`.
- **Добавил HTTP эндпоинты для операций сервисов:**  
  Предоставил REST API для работы с товарами, заказами и их историей. Все операции, ранее доступные только через код, стали доступны по HTTP.
  
## Нефункциональные требования

**Что сделано:**
- **Загрузка конфигураций до старта приложения:**  
  Кастомный провайдер конфигураций настроен так, чтобы конфигурации были доступны до запуска приложения.
- **Минимизация кода в `Program.cs`:**  
  Исходный файл настроен только на конфигурацию `builder.Services`, `builder.Configuration` и `app`. Нет явного вызова операций в `Program.cs`.
- **Обработчик исключений для всех эндпоинтов:**  
  Реализован middleware, перехватывающий исключения и возвращающий единообразные сообщения об ошибках в определённом формате, понятном клиентам.
- **Swagger документация:**  
  Приложение документировано с помощью Swagger/OpenAPI. Все эндпоинты описаны, включая коды ответов.
- **Описание всех кодов ответов в Swagger:**  
  Добавлена подробная информация о возможных статус-кодах и их значении для каждого эндпоинта. Это позволит клиентам лучше понимать поведение API при различных сценариях.
